"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[5298],{18356:function(e,l,t){t.d(l,{T4:function(){return q},X:function(){return F},f5:function(){return M},iJ:function(){return H},mn:function(){return N},oi:function(){return T},ok:function(){return _}});var o=t(54705),n=t(54506),a=t(88763),r=t(60480),i=t(46942),s=t.n(i),d=t(7256),c=t(94087),u=t(19243),p=t(22472),g=t(12953),m=t(71052),v=t(18035),f=t(35413),h=t(77126),y=t(91101);function b(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);l&&(o=o.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.push.apply(t,o)}return t}function w(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?b(Object(t),!0).forEach((function(l){(0,o.A)(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}const x=/^(localhost:\d{1,5}|(\*\.|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)|\*|(\*\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+))$/,Y=/^(?=[A-Za-z0-9\s]{6,}$)[A-Za-z0-9\s]*$/;var O={name:"19cme6k",styles:"margin-left:10px;color:var(--spectrum-global-color-gray-800);&:hover{color:var(--spectrum-global-color-gray-900);}"},A={name:"17fjgey",styles:"width:fit-content;margin-top:10px"},C={name:"1e43w35",styles:"color:rgb(0, 84, 182);&:hover{color:rgb(2, 101, 220);}"},D={name:"1kjtuj9",styles:"color:var(--spectrum-global-color-gray-800);margin:0"},S={name:"oq6u0f",styles:"display:flex;gap:10px"},k={name:"ftyx0c",styles:"display:flex;gap:24px;flex-direction:column;width:100%"},j={name:"1pmf9ly",styles:"border:none;padding:0;font-family:'adobe-clean';background:transparent;margin-left:10px;text-decoration:underline;color:var(--spectrum-global-color-gray-800);cursor:pointer"},z={name:"7hgi8",styles:"color:var(--spectrum-global-color-gray-800)"},P={name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"};const H=e=>{var l,t;let{formProps:o,credentialType:i,service:v}=e;const{0:b,1:B}=(0,a.useState)(!0),{0:E,1:I}=(0,a.useState)(!1),{0:V,1:L}=(0,a.useState)({}),{0:U,1:Z}=(0,a.useState)(""),{0:R,1:$}=(0,a.useState)(!0),{0:J,1:G}=(0,a.useState)(!1),{0:W,1:X}=(0,a.useState)([]),{0:K,1:Q}=(0,a.useState)({}),{0:ee,1:le}=(0,a.useState)(!1),{0:te,1:oe}=(0,a.useState)(!1),{0:ne,1:ae}=(0,a.useState)(!1),{0:re,1:ie}=(0,a.useState)(!1),{0:se,1:de}=(0,a.useState)(!1),{0:ce,1:ue}=(0,a.useState)({}),{0:pe,1:ge}=(0,a.useState)(!0),{0:me,1:ve}=(0,a.useState)(""),{ims:fe}=(0,a.useContext)(y.Ay),he=null==o?void 0:o[H],ye=null==he||null===(l=he.children)||void 0===l?void 0:l.filter((e=>Object.keys(e.props).some((e=>e.startsWith("contextHelp"))))),be=()=>{const e={},l={label:"Language",selectOptions:[]};null==he||he.children.forEach((t=>{let{type:o,props:a}=t;var r;o===_&&null!=a&&a.children&&(l.required=a.required||!1,(r=l.selectOptions).push.apply(r,(0,n.A)([].concat(a.children).map((e=>{let{props:{title:l,href:t}}=e;return{title:l,href:t}})))),Q((e=>{var l,t;return w(w({},e),Array.isArray(a.children)?null:{Download:null===(l=a.children)||void 0===l||null===(t=l.props)||void 0===t?void 0:t.title})})));e[o]=w(w({},a),{},{required:o===F||(null==a?void 0:a.required)})})),l.selectOptions.length&&(e[M]=l,1===l.selectOptions.length&&Q((e=>{var t,o;return w(w({},e),{},{Download:null===(t=l.selectOptions[0])||void 0===t?void 0:t.title,zipUrl:null===(o=l.selectOptions[0])||void 0===o?void 0:o.href})}))),X(e),(async()=>{var e;const l=null===(e=localStorage)||void 0===e?void 0:e.getItem("OrgInfo"),t=await(0,m.SA)(ue);if(null===l)1===(null==t?void 0:t.length)&&ge(!1);else if(t){const e=JSON.parse(l);ge(1!==e.orgLen),ue(e)}t||(ue({}),$(!1))})()};(0,a.useEffect)((()=>{var e;null!==(e=window.adobeIMS)&&void 0!==e&&e.isSignedInUser()?setTimeout((()=>{B(!1)}),1e3):B(!0)}),[null===(t=window.adobeIMS)||void 0===t?void 0:t.isSignedInUser()]),(0,a.useEffect)((()=>{setTimeout((()=>{de(!1)}),8e3)}),[se]),(0,a.useEffect)((()=>{R&&I(!1)}),[R]),(0,a.useEffect)((()=>{if(!J&&R){const e=w({},K);for(const l in e)e[l]="";Q(e),ie(!1)}}),[J]),(0,a.useEffect)((()=>{be()}),[]),(0,a.useEffect)((()=>{var e;if(ce)if(ce&&0!==(null===(e=Object.keys(ce))||void 0===e?void 0:e.length))$(!0),I(!0),setTimeout((()=>{B(!1),I(!1)}),2e3);else{var l;0===(null===(l=Object.keys(ce))||void 0===l?void 0:l.length)&&(ue(void 0),$(!1))}else ue(void 0),$(!1),B(!0)}),[ce]),(0,a.useEffect)((()=>{if(E){const e=w({},K);for(const l in e)e[l]="";Q(e)}}),[E]),(0,a.useEffect)((()=>{var e,l,t,o;const n=null===(e=Array.from((null==he?void 0:he.children)||[]).filter((e=>{var l;return(null==e||null===(l=e.props)||void 0===l?void 0:l.required)||e.type===F})))||void 0===e?void 0:e.map((e=>e.type)),a=Y.test(K.CredentialName)&&(null===(l=K.CredentialName)||void 0===l?void 0:l.length)>=6,r=n.filter((e=>"AllowedOrigins"===e.name)),i=null===(t=K.AllowedOrigins)||void 0===t?void 0:t.split(",").map((e=>x.test(e.trim()))),s=!r||(null==i?void 0:i.every((e=>!0===e)))&&void 0!==K.AllowedOrigins&&0!==(null===(o=K.AllowedOrigins)||void 0===o?void 0:o.length),d=a&&s&&!0===K.Agree;ae(d)}),[K]),(0,a.useEffect)((()=>{(async()=>{if(fe&&fe.isSignedInUser()){const e=await fe.getProfile();ve(null==e?void 0:e.email)}})()}),[fe]);const we=(e,l)=>{const t="Downloads"===l||"Agree"===l?e.target.checked:e.target.value;if(Q((e=>w(w({},e),{},{[l]:t}))),"Download"===l&&K.Downloads){var o;const l=null==W||null===(o=W[M])||void 0===o?void 0:o.selectOptions.find((l=>l.title===e.target.value));l&&Q((e=>w(w({},e),{},{zipUrl:l.href})))}},xe=null==W?void 0:W[N],Ye=null==W?void 0:W[F],Oe=null==W?void 0:W[T],Ae=null==W?void 0:W[_],Ce=null==W?void 0:W[M];return(0,r.Y)(a.default.Fragment,null,!te&&R&&!b&&ce&&(0,r.Y)("div",{className:s()(null==he?void 0:he.className),css:P},(0,r.Y)("div",{css:(0,r.AH)("display:flex;flex-direction:column;gap:16px;color:var(--spectrum-global-color-gray-800);width:100%;height:100%;text-align:left;@media screen and (min-width:",m.jd,") and (max-width:",m.cp,"){padding:0;width:100%;}","")},(null==he?void 0:he.title)&&(0,r.Y)("h3",{className:"spectrum-Heading spectrum-Heading--sizeL"},null==he?void 0:he.title),(null==he?void 0:he.paragraph)&&(0,r.Y)("p",{className:"spectrum-Body spectrum-Body--sizeL"},null==he?void 0:he.paragraph),(0,r.Y)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:z},"You're creating this credential in  ","developer"===(null==ce?void 0:ce.type)?"in your personal developer organization":(0,r.Y)("span",null,"[",(0,r.Y)("b",null,null==ce?void 0:ce.name),"] "),".",pe&&(0,r.Y)("button",{tabIndex:"0",css:j,onClick:()=>le(!0)},"Change organization?"))),(0,r.Y)("div",{css:(0,r.AH)("display:flex;gap:35px;@media screen and (min-width:",m.jd,") and (max-width:",m.cp,"){flex-direction:column;padding-left:0;}","")},(0,r.Y)("div",{css:(0,r.AH)("display:flex;flex-direction:column;gap:35px;width:50%;@media screen and (min-width:",m.jd,") and (max-width:",m.cp,"){width:100%;}","")},(0,r.Y)("div",{css:k},Ye&&(0,r.Y)(F,{nameProps:Ye,isFormValue:ye,formData:K,handleChange:we}),Oe&&(0,r.Y)(T,{originsProps:Oe,isFormValue:ye,formData:K,handleChange:we}),Ae&&Ce&&(0,r.Y)(_,{downloadsProp:Ae,type:"Downloads",formData:K,handleChange:we}),K.Downloads&&Ce&&(0,r.Y)(M,{downloadProp:Ce,formData:K,isFormValue:ye,handleChange:we}),(0,r.Y)("div",{css:S},(0,r.Y)("input",{type:"checkbox",checked:K.Agree,onChange:e=>we(e,"Agree")}),(0,r.Y)("p",{css:D},"By checking this box, you agree to ",(0,r.Y)("a",{href:"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf",css:C,target:"_blank",rel:"noreferrer"},"Adobe Developer Terms of Use"),".")),(0,r.Y)("button",{id:"credentialButton",className:"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM",css:A,onClick:async()=>{var e,l;const t=null===(e=window.adobeIMS)||void 0===e||null===(l=e.getTokenFromStorage())||void 0===l?void 0:l.token;t||console.log("User not logged in"),B(!0),$(!1);const o={name:K.CredentialName,platform:i,description:"created for get credential",domain:K.AllowedOrigins,services:[{sdkCode:v}]};try{var n,a,r;const e=await fetch(`/console/api/organizations/${null==ce?void 0:ce.id}/integrations/adobeid`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"x-api-key":null===(n=window)||void 0===n||null===(a=n.adobeIMS)||void 0===a||null===(r=a.adobeIdData)||void 0===r?void 0:r.client_id},body:JSON.stringify(o)}),l=await e.json();if(200===e.status)L(l),G(!0),ie(!0);else if(null!=l&&l.messages){var s;ie(!0),ae(!1),Z(null==l||null===(s=l.messages[0])||void 0===s?void 0:s.message),$(!0)}}catch(d){I(!0)}finally{B(!1)}},disabled:!ne},(0,r.Y)("span",{className:"spectrum-Button-label"},"Create credential")))),xe?(0,r.Y)(q,{sideContent:null==xe?void 0:xe.children}):null),(0,r.Y)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:(0,r.AH)("color:var(--spectrum-global-color-gray-800);@media screen and (min-width:",m.jd,") and (max-width:",m.cp,"){padding-left:0;}","")},"Have existing credentials?",(0,r.Y)("a",{href:"/console/",target:"_blank",rel:"noreferrer",css:O},"Go to Developer Console"))),re&&(0,r.Y)(a.default.Fragment,null,se?(0,r.Y)(f.y,{message:"Organization Changed",variant:"success",disable:8e3,customDisableFunction:ie}):(0,r.Y)(f.y,{customDisableFunction:ie,message:R&&!J?U:!E&&J&&"Your credentials were created successfully.",variant:E||R&&!J?"error":"success",disable:E||R&&!J?null:8e3})),b&&!J&&!E&&!R&&ce&&(0,r.Y)(c.R,{credentials:he,isCreateCredential:!0,downloadStatus:K.Downloads}),ee&&(0,r.Y)(p.Y,{setModalOpen:le,redirectToBeta:te,setRedirectBetaProgram:oe,setAlertShow:ie,alertShow:re,organizationChange:se,setOrganization:de,setOrganizationValue:ue}),(!ce||E)&&b&&(0,r.Y)(c.R,null),E&&!R&&!J&&!ce&&(0,r.Y)(u.T,{errorMessage:null==o?void 0:o[u.T]}),J&&!R&&(0,r.Y)(d.q,{credentialProps:o,response:V,setShowCreateForm:$,setShowCredential:G,organizationName:null==ce?void 0:ce.name,formData:K,orgID:null==ce?void 0:ce.id}),te&&(0,r.Y)(g.V,{joinBeta:null==o?void 0:o[g.V]}),!R&&!ce&&!E&&!b&&(0,r.Y)(h.M,{developerAccessError:null==o?void 0:o[h.M],title:null==he?void 0:he.title,emailID:me}))},N=e=>{let{side:l}=e;return l};var B={name:"8sarsy",styles:"position:relative;display:inline-block;width:100%"};const F=e=>{var l,t,o;let{nameProps:n,isFormValue:a,formData:i,handleChange:s}=e;const d=!Y.test(i.CredentialName),c=0!==(null===(l=i.CredentialName)||void 0===l?void 0:l.length)&&d;return(0,r.Y)(m.CL,{isFormValue:a,fields:n,formData:i,isRed:c},(0,r.Y)("div",{css:B},(0,r.Y)("input",{type:"text",css:(0,r.AH)("padding:7px;border-radius:3px;width:97%;border:1px solid ",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";&::placeholder{font-style:italic;color:var(--spectrum-global-color-gray-400);}&:focus{outline:none;border-color:",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}",""),value:i.CredentialName,onChange:e=>s(e,"CredentialName"),placeholder:null==n?void 0:n.placeholder,maxLength:null==n?void 0:n.range}),(0,r.Y)("span",{css:(0,r.AH)("display :",(null===(t=i.CredentialName)||void 0===t?void 0:t.length)<3&&0!==(null===(o=i.CredentialName)||void 0===o?void 0:o.length)?"block":"none",";","")},(0,r.Y)(m._0,null))))},T=e=>{var l,t;let{originsProps:o,isFormValue:n,type:a,formData:i,handleChange:s}=e;const d=null===(l=i.AllowedOrigins)||void 0===l?void 0:l.split(",").map((e=>x.test(e.trim()))),c=null==d?void 0:d.every((e=>!0===e)),u=void 0!==i.AllowedOrigins&&!c&&0!==(null===(t=i.AllowedOrigins)||void 0===t?void 0:t.length);return(0,r.Y)(m.CL,{isFormValue:n,fields:o,type:a,formData:i,isRed:u},(0,r.Y)("textarea",{css:(0,r.AH)("flex:1;padding:7px;height:50px;border-radius:3px;border:1px solid ",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";resize:none;width:90%;color:#4b4b4b;font-family:adobe-clean,Helvetica,Arial,sans-serif;&::placeholder{color:var(--spectrum-global-color-gray-600);font-style:italic;}&:focus{outline:none;border-color:",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}&:hover{&::placeholder{color:var(--spectrum-global-color-gray-800);}}",""),value:i.AllowedOrigins,placeholder:null==o?void 0:o.placeholder,onChange:e=>s(e,"AllowedOrigins")}))};var E={name:"i92civ",styles:"cursor:pointer;display:flex;justify-content:center;align-items:center"},I={name:"18ny2tv",styles:"color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0"},V={name:"zatqba",styles:"display:flex;gap:10px;align-items:center"};const _=e=>{let{downloadsProp:l,handleChange:t,formData:o}=e;const{label:n,contextHelpLabelForLink:a,contextHelpLink:i,contextHelpText:s,contextHelp:d,contextHelpHeading:c}=l;return(0,r.Y)("div",{css:V},(0,r.Y)("input",{type:"checkbox",onChange:e=>t(e,"Downloads"),checked:o.Downloads}),(0,r.Y)("p",{css:I}," ",n," "),(0,r.Y)("div",{css:E},d&&(0,r.Y)(v.B,{heading:c,text:s,link:i,label:a})))};var L={name:"wd7e5h",styles:"font-style:italic;font-weight:500;font-family:'adobe-clean';padding:7px;border-radius:3px;border:1px solid #D0D0D0!important;width:100%"};const M=e=>{var l,t,o;let{downloadProp:n,formData:i,isFormValue:s,handleChange:d}=e;return(0,r.Y)(a.default.Fragment,null,(null==n||null===(l=n.selectOptions)||void 0===l?void 0:l.length)>1&&(0,r.Y)(m.CL,{isFormValue:s,fields:n},(0,r.Y)("select",{css:L,id:"selectBox",value:i.Download,onChange:e=>d(e,"Download")},(null==n||null===(t=n.selectOptions)||void 0===t?void 0:t.length)>1&&(0,r.Y)("option",{value:"",hidden:!0},"Select language for your code pickData"),null==n||null===(o=n.selectOptions)||void 0===o?void 0:o.map(((e,l)=>(0,r.Y)("option",{key:l,"data-link":e.href,value:e.title},e.title))))))},q=e=>{let{sideContent:l}=e;return(0,r.Y)(a.default.Fragment,null,(0,r.Y)("div",{css:(0,r.AH)("width:2px;background-color:#D0D0D0;@media screen and (min-width:",m.jd,") and (max-width:",m.cp,"){display:none;}","")}),(0,r.Y)("div",{css:(0,r.AH)("width:50%;@media screen and (min-width:",m.jd,") and (max-width:",m.cp,"){width:100%;}","")},(0,r.Y)(N,{side:l})))}}}]);
//# sourceMappingURL=987e9e88-c00633880d6ccf2b1924.js.map