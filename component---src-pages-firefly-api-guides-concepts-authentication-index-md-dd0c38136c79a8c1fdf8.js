"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[2003],{48217:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return d},default:function(){return u}});var o=t(58168),a=t(80045),r=(t(88763),t(15680)),s=t(83407);const i=["components"],d={},c=(l="InlineAlert",function(e){return console.warn("Component "+l+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)});var l;const p={_frontmatter:d},m=s.A;function u(e){let{components:n}=e,t=(0,a.A)(e,i);return(0,r.mdx)(m,(0,o.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"authentication"},"Authentication"),(0,r.mdx)("p",null,"Learn how to make requests to Firefly APIs"),(0,r.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,'If you don\'t already have a Firefly "client ID" and "client secret", retrieve them from your ',(0,r.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s/#api-overview"},"Adobe Developer Console project")," before reading further. ",(0,r.mdx)("strong",{parentName:"p"},"Securely store these credentials and never expose them in client-side or public code.")),(0,r.mdx)("h2",{id:"overview"},"Overview"),(0,r.mdx)("p",null,"Every request made to Firefly APIs must include an encrypted access token. Your secure, server-side application retrieves an access token by making a request to the ",(0,r.mdx)("a",{parentName:"p",href:"https://www.adobe.com/content/dam/cc/en/trust-center/ungated/whitepapers/corporate/adobe-identity-management-services-security-overview.pdf"},"Adobe Identity Management System (IMS)"),' with your "client ID" and "client secret".'),(0,r.mdx)("h2",{id:"retrieve-an-access-token"},"Retrieve an access token"),(0,r.mdx)("p",null,"First, open a secure terminal and ",(0,r.mdx)("inlineCode",{parentName:"p"},"export"),' your "client ID" and "client secret" as environment variables so that your later commands can access them:'),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"export FIREFLY_CLIENT_ID=PASTE_YOUR_CLIENT_ID_HERE\nexport FIREFLY_CLIENT_SECRET=PASTE_YOUR_CLIENT_SECRET_HERE\n")),(0,r.mdx)("p",null,"Next, run the following command to generate an access token:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"curl --location 'https://ims-na1.adobelogin.com/ims/token/v3' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'grant_type=client_credentials' \\\n--data-urlencode \"client_id=$FIREFLY_CLIENT_ID\" \\\n--data-urlencode \"client_secret=$FIREFLY_CLIENT_SECRET\" \\\n--data-urlencode 'scope=openid,AdobeID,session,additional_info,read_organizations,firefly_api,ff_apis'\n")),(0,r.mdx)("p",null,"The response will look like this:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{"access_token":"asdf...1234","token_type":"bearer","expires_in":86399}\n')),(0,r.mdx)("p",null,"Notice how the response includes an ",(0,r.mdx)("inlineCode",{parentName:"p"},"expires_in")," field, which informs you of how many more seconds the access token is valid for. Each access token is valid for 24 hours, after which your secure server-side application will need to request a new token. A best practice is securely store the token and refresh it before it expires."),(0,r.mdx)("p",null,"Now that you are retrieving an access token, hop over to the ",(0,r.mdx)("a",{parentName:"p",href:"../../index.md"},"Quickstart Guide")," to generate your first image!"))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-firefly-api-guides-concepts-authentication-index-md-dd0c38136c79a8c1fdf8.js.map