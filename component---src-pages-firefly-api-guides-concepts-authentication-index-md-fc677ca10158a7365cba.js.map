{"version":3,"file":"component---src-pages-firefly-api-guides-concepts-authentication-index-md-fc677ca10158a7365cba.js","mappings":"0TAMaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAUC,GAG/B,IAHgC,WACjCC,GAEDD,EADIE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAOC,EAAAA,EAAAA,KAACR,GAASS,EAAAA,EAAAA,GAAA,GAAKV,EAAiBM,EAAK,CAAED,WAAYA,EAAYM,QAAQ,eAG5EF,EAAAA,EAAAA,KAAA,MACE,GAAM,kBACJ,mBACJA,EAAAA,EAAAA,KAAA,SAAI,uDACJA,EAAAA,EAAAA,KAAA,MACE,GAAM,YACJ,aACJA,EAAAA,EAAAA,KAAA,SAAI,yKAAwKA,EAAAA,EAAAA,KAAA,KAAGG,WAAW,IACtL,KAAQ,+IACN,0CAA8C,eAAcH,EAAAA,EAAAA,KAAA,UAAQG,WAAW,KAAK,aAAsB,SAAQH,EAAAA,EAAAA,KAAA,UAAQG,WAAW,KAAK,iBAA0B,MAC1KH,EAAAA,EAAAA,KAAA,MACE,GAAM,iBACJ,kBACJA,EAAAA,EAAAA,KAAA,SAAI,iGACJA,EAAAA,EAAAA,KAAA,WACEA,EAAAA,EAAAA,KAAA,MAAIG,WAAW,MAAM,OAAMH,EAAAA,EAAAA,KAAA,KAAGG,WAAW,KACrC,KAAQ,gCACN,2BAA+B,cACrCH,EAAAA,EAAAA,KAAA,MAAIG,WAAW,MAAM,MAAKH,EAAAA,EAAAA,KAAA,KAAGG,WAAW,KACpC,KAAQ,sFACN,WAAe,sBAAqBH,EAAAA,EAAAA,KAAA,KAAGG,WAAW,KACpD,KAAQ,kGACN,6CAAiD,MACvDH,EAAAA,EAAAA,KAAA,MAAIG,WAAW,MAAM,wDAAuDH,EAAAA,EAAAA,KAAA,KAAGG,WAAW,KACtF,KAAQ,+GACN,mCAAuC,6FAE/CH,EAAAA,EAAAA,KAAA,MACE,GAAM,4BACJ,6BACJA,EAAAA,EAAAA,KAAA,SAAI,sCAAqCA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,UAAuB,UAASH,EAAAA,EAAAA,KAAA,UAAQG,WAAW,KAAK,aAAsB,SAAQH,EAAAA,EAAAA,KAAA,UAAQG,WAAW,KAAK,iBAA0B,2EAC7MH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,4HAGNH,EAAAA,EAAAA,KAAA,SAAI,iEACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,0aAONH,EAAAA,EAAAA,KAAA,SAAI,sCACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,0FAENH,EAAAA,EAAAA,KAAA,SAAI,wCAAuCA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,cAA2B,+RAClGH,EAAAA,EAAAA,KAAA,SAAI,yDACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,mEAENH,EAAAA,EAAAA,KAAA,MACE,GAAM,qBACJ,sBACJA,EAAAA,EAAAA,KAAA,SAAI,mBAAkBA,EAAAA,EAAAA,KAAA,KAAGG,WAAW,IAChC,KAAQ,kCACN,+BAAmC,MACzCH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,6WASNH,EAAAA,EAAAA,KAAA,SAAI,sCACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,qWAkBV,CAEAT,EAAWU,gBAAiB,C","sources":["webpack://dev-site-documentation-template/./src/pages/firefly-api/guides/concepts/authentication/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/ff-services-docs/ff-services-docs/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"authentication\"\n    }}>{`Authentication`}</h1>\n    <p>{`Learn how to authenticate requests to Firefly APIs`}</p>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`Every request made to Firefly APIs must include an encrypted access token. Your secure, server-side application retrieves an access token by making a request to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.adobe.com/content/dam/cc/en/trust-center/ungated/whitepapers/corporate/adobe-identity-management-services-security-overview.pdf\"\n      }}>{`Adobe Identity Management System (IMS)`}</a>{` with your `}<strong parentName=\"p\">{`Client ID`}</strong>{` and `}<strong parentName=\"p\">{`Client Secret`}</strong>{`.`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <p>{`This tutorial assumes you have worked with your Adobe Representative and have the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`An `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/\"\n        }}>{`Adobe Developer Console`}</a>{` account.`}</li>\n      <li parentName=\"ul\">{`A `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/developer-console/docs/guides/projects/projects-empty/\"\n        }}>{`project`}</a>{` with Firefly API `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s/\"\n        }}>{`OAuth Server-to-Server credentials set up`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`Access to your Client ID and Client Secret from the `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s/#api-overview\"\n        }}>{`Adobe Developer Console project`}</a>{`. Securely store these credentials and never expose them in client-side or public code.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"retrieve-an-access-token\"\n    }}>{`Retrieve an Access Token`}</h2>\n    <p>{`First, open a secure terminal and `}<inlineCode parentName=\"p\">{`export`}</inlineCode>{` your `}<strong parentName=\"p\">{`Client ID`}</strong>{` and `}<strong parentName=\"p\">{`Client Secret`}</strong>{` as environment variables so that your later commands can access them:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`export FIREFLY_SERVICES_CLIENT_ID=yourClientIdAsdf123\nexport FIREFLY_SERVICES_CLIENT_SECRET=yourClientSecretAsdf123\n`}</code></pre>\n    <p>{`Next, run the following command to generate an access token:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl --location 'https://ims-na1.adobelogin.com/ims/token/v3' \\\\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\\\n--data-urlencode 'grant_type=client_credentials' \\\\\n--data-urlencode \"client_id=$FIREFLY_SERVICES_CLIENT_ID\" \\\\\n--data-urlencode \"client_secret=$FIREFLY_SERVICES_CLIENT_SECRET\" \\\\\n--data-urlencode 'scope=openid,AdobeID,session,additional_info,read_organizations,firefly_api,ff_apis'\n`}</code></pre>\n    <p>{`The response will look like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\"access_token\":\"yourAccessTokenAsdf123\",\"token_type\":\"bearer\",\"expires_in\":86399}\n`}</code></pre>\n    <p>{`Notice how the response includes an `}<inlineCode parentName=\"p\">{`expires_in`}</inlineCode>{` field, which informs you of how many more seconds the access token is valid for. Each access token is valid for 24 hours, after which your secure server-side application will need to request a new token. A best practice is securely store the token and refresh it before it expires.`}</p>\n    <p>{`Export your access token as an environment variable:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`export FIREFLY_SERVICES_ACCESS_TOKEN=yourAccessTokenAsdf123\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"generate-an-image\"\n    }}>{`Generate an Image`}</h2>\n    <p>{`Next, call the `}<a parentName=\"p\" {...{\n        \"href\": \"../../api/image_generation/V3/\"\n      }}>{`Firefly Generate Images API`}</a>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl --location 'https://firefly-api.adobe.io/v3/images/generate' \\\\\n--header 'Content-Type: application/json' \\\\\n--header 'Accept: application/json' \\\\\n--header \"x-api-key: $FIREFLY_SERVICES_CLIENT_ID\" \\\\\n--header \"Authorization: Bearer $FIREFLY_SERVICES_ACCESS_TOKEN\" \\\\\n--data '{\n    \"prompt\": \"a realistic illustration of a cat coding\"\n}'\n`}</code></pre>\n    <p>{`The response will look like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"size\": {\n        \"width\": 2048,\n        \"height\": 2048\n    },\n    \"outputs\": [\n        {\n            \"seed\": 1779323515,\n            \"image\": {\n                \"url\": \"https://pre-signed-firefly-prod.s3-accelerate.amazonaws.com/images/asdf-12345?lots=of&query=params...\"\n            }\n        }\n    ],\n    \"contentClass\": \"art\"\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}