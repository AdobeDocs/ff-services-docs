# Using Content Class and Style Presets

At its simplest, the Firefly API can generate an image based on your prompt alone. However, there are numerous parameters that can be used to specifically direct the generated output.

## Prerequisites

Before we begin, make sure you have the following:

-  Firefly API credentials. If you don't have them yet, first visit the Firefly Services [Getting Started](../../../guides/get-started.md) guide to obtain a `client_id` and `client_secret`.
-  `Node.js` installed on your machine and basic familiarity with `JavaScript`. **Note:** The code for this guide will make use of the Firefly REST API via Node.js, but could be done in any language, or with the SDK.

<InlineAlert variant="warning" slots="title, text" />

IMPORTANT

The Node.js code uses imports and top-level `await`, so you must either use the `.mjs` extension on your script file, or ensure you have a `package.json` with `type: "module"`.

## Specifying a Content Class

Images generated by Firefly fall into two general categories - photos and art. This is represented in the REST API as the parameter, `contentClass`. When you do not pass this value as part of your call, Firefly will do its best to guess what makes sense based on the prompt. However, if you know what kind of result you want, it always makes sense to pass that in your code. To specify the value, simply add the `contentClass` parameter to your request body. For example:

```json
{
 "numVariations":1,
 "prompt":"The prompt here...",
 "contentClass":"art",
 "size": {
     "width":1792,
     "height":2304
  }
}
```

Let's see this in action by building a simple demo that shows the result of *not* specifying a class, and then selecting each of the two options. First, let's start with a few utility methods including authentication as well as downloading. This is pretty standardized so we won't cover it in detail.

Now, let's write a generic function to use the image generation features that allows for a prompt and optional content class:

```js
async function textToImage(prompt, id, token, contentClass) {
    let body = {
        numVariations:1,
        prompt,
        size:{
            width:1792,
            height:2304
        }
    }
 
    if (contentClass) body.contentClass = contentClass;
 
    let req = await fetch('https://firefly-api-enterprise-stage.adobe.io/v3/images/generate', {
        method:'POST',
        headers: {
            'X-Api-Key':id,
            'Authorization':`Bearer ${token}`,
            'Content-Type':'application/json'
        },
        body: JSON.stringify(body)
    });
 
    return await req.json();
}
```

In this method, we've simply added `contentClass` as an argument, and if it exists, pass it along with the rest of the body to the API. This makes testing really easy.

First, get an access token and define a prompt:

```js 
let token = await getAccessToken(CLIENT_ID, CLIENT_SECRET);
let prompt = 'A long-haired cat majestically riding a flying unicorn. The cat is wielding a rainbow shield and sword, pointing the swords tip outwards.';
```

Next, let's run three tests - one without specifying the class and one each for each class:

```js
// First, no class
let result = await textToImage(prompt, CLIENT_ID, token);
let fileName = `./output/v3_noclass.jpg`;
await downloadFile(result.outputs[0].image.url, fileName);
 
// Next, test all three options for content class:
 
// Second, photo
result = await textToImage(prompt, CLIENT_ID, token, "photo");
fileName = `./output/v3_photo.jpg`;
await downloadFile(result.outputs[0].image.url, fileName);
 
// Third, art
result = await textToImage(prompt, CLIENT_ID, token, "art");
fileName = `./output/v3_art.jpg`;
await downloadFile(result.outputs[0].image.url, fileName);
```

Given our prompt, "A long-haired cat majestically riding a flying unicorn. The cat is wielding a rainbow shield and sword, pointing the swords tip outwards.", here are the three results:

##### No Content Class

![Result with no class specified](../images/v3_noclass.jpg)

##### Art Content Class

![Result with art class specified](../images/v3_artClass.jpg)

##### Photo Content Class

![Result with photo class specified](../images/v3_photoClass.jpg)

#### Specifying a Style Preset

Another way for Firefly to direct its output is via the use of style presets. These style presets are a *long* list of options ranging from black and white to "warm tone" and "misty".

As with `contentClass` above, to specify a style preset, you simply include it in your request body:

```json
{
  "numVariations":1,
  "prompt":"The prompt here...",
  "style":{
      "presets":["bw","grainy_film"]
  },
  "size":{
      "width":1792,
      "height":2304
  }
}
```

In the above example, two presets are used,` bw`, for black and white, and `grainy_film` for a grainy film effect. In the documentation, you'll notice that each preset has a name and ID. For the API, you want to use the ID values only.

Also note that while the presets value can be an array, Firefly will not "sanity" check these values. What that means is, if you intentionally ask Firefly to use presets that don't necessarily make sense, Firefly will try its best but the result may not be good. This is a case where artistic sense has to be applied, not developer skill.

Once again, you can use a simple utility method like below to test this:

```js
async function textToImage(prompt, id, token, presets) {
 
let body = {
  numVariations:1,
  prompt,
  size:{
    width:1792,
    height:2304
  }
}
 
if (presets) body.style = { presets };
 
let req = await fetch('https://firefly-api-enterprise-stage.adobe.io/v3/images/generate', {
  method:'POST',
  headers: {
    'X-Api-Key':id,
    'Authorization':`Bearer ${token}`,
    'Content-Type':'application/json'
  },
  body: JSON.stringify(body)
});
 
return await req.json();
}
```

Once again, the method simply adds `presets` to the API call if passed. This can be tested with the following:

```js
result = await textToImage(prompt, CLIENT_ID, token, ["golden"]);
fileName = `./output/v3_golden.jpg`;
await downloadFile(result.outputs[0].image.url, fileName);
 
result = await textToImage(prompt, CLIENT_ID, token, ["pastel_color"]);
fileName = `./output/v3_pastel_color.jpg`;
await downloadFile(result.outputs[0].image.url, fileName);
```

In the example above, we've used `golden` and `pastel_color`. Here are the results:

##### Golden Result

![Result with golden](../images/v3_golden.jpg)

##### Pastel Colors Result

![Result with pastel_colors](../images/v3_pastel_color.jpg)

## Next Steps

While this guide demonstrated two powerful ways to influence Firefly when generating images, there's still more you can learn about to tweak what's generated from your API calls. Check out the other guides in this [how-tos](../how-tos/) section and the [API Reference](../api/) for more details.
